<ion-view view-title="Vaksin">
    <div class="bar bar-subheader bar-calm">
        <h2 class="title left nama">Nama ART : {{curART._nama}} ({{curART.umur}})
        </h2>
    </div>
    <ion-content id="vac" class="vac has-subheader" style="padding-bottom: 10px">
        <ion-list>
            <div class="item item-divider desc item-text-wrap">
                Modul Vaksin ditanyakan kepada responden HDSS berusia 25 tahun ke atas.
            </div>
            <div class="item item-divider desc item-text-wrap">
                Keterangan: Vaksin Covid19 biasanya diberikan sebanyak 2 dosis yang disuntikan oleh tenaga kesehatan dan berjarak minimal 14 hari antara vaksin 1 dan vaksin 2
            </div>
            <input ng-show="false" type="number" ng-model="vac.vac">

            <div class="item-group" ng-if="curART.umur > 24">
                <div class="item item-text-wrap item-row">
                    <div class="row">
                        <div class="col col-50 col-center input-label"><b>VAC0a</b> Sejak wabah COVID-19, apakah anda pernah mengalami gejala-gejala yang berkaitan dengan COVID-19 (batuk, demam, kesulitan bernafas, nyeri tenggorok, kehilangan indra pencium atau perasa)? </div>
                        <div class="col col-50 col-center" >
                            <select class="input-border pull-right" ng-model="vac.vac0a">
                                <option value="" selected></option>
                                <option value="1">1. Ya</option>
                                <option value="2">2. Tidak</option>
                                <option value="98">98. Tidak Tahu</option>
                                <option value="99">99. Menolak Menjawab</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="item item-text-wrap item-row">
                    <div class="row">
                        <div class="col col-50 col-center input-label"><b>VAC0b</b> Apakah anda pernah menjalani tes COVID-19 (baik tes swab, tes rapid, baik dilakukan di laboratorium/ fasilitas layanan kesehatan/ rumah)? </div>
                        <div class="col col-50 col-center" >
                            <select class="input-border pull-right" ng-model="vac.vac0b">
                                <option value="" selected></option>
                                <option value="1">1. Ya</option>
                                <option value="2">2. Tidak</option>
                                <option value="98">98. Tidak Tahu</option>
                                <option value="99">99. Menolak Menjawab</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="item item-text-wrap item-row">
                    <div class="row">
                        <div class="col col-50 col-center input-label"><b>VAC1a</b> Apakah anda pernah didiagnosis (dinyatakan oleh dokter/perawat/ tenaga kesehatan profesional lain) sakit atau positif COVID-19? </div>
                        <div class="col col-50 col-center" >
                            <select class="input-border pull-right" ng-model="vac.vac1a">
                                <option value="" selected></option>
                                <option value="1">1. Ya</option>
                                <option value="2">2. Tidak</option>
                                <option value="98">98. Tidak Tahu</option>
                                <option value="99">99. Menolak Menjawab</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="item item-text-wrap item-row" ng-if="vac.vac1a == 1">
                    <div class="row">
                        <div class="col col-50 col-center input-label"><b>VAC1ba</b> Kapankah anda didiagnosis sakit atau positif COVID-19? </div>
                        <div class="col col-50 col-center" >
                            <select class="input-border pull-right" ng-model="vac.vac1ba">
                                <option value="" selected></option>
                                <option value="1">1. Mau menjawab</option>
                                <option value="98">98. Tidak Tahu</option>
                                <option value="99">99. Menolak Menjawab</option>
                            </select>
                        </div>
                    </div>
                </div>
                <label class="item item-text-wrap item-row" ng-if="vac.vac1ba == 1 && vac.vac1a == 1">
                    <div class="row">
                        <div class="col col-50 col-center input-label"><b>VAC1b</b> Kapankah anda didiagnosis sakit atau positif COVID-19? </div>
                        <div class="col col-50 col-center" >
                            <input class="input-border pull-right" type="date" min="1916-01-01"  ng-model="vac.vac1b">
                        </div>
                    </div>
                </label>
                <div class="item item-text-wrap item-row">
                    <div class="row">
                        <div class="col col-50 col-center input-label"><b>VAC2</b> Apakah anda sudah menerima vaksin COVID-19? </div>
                        <div class="col col-50 col-center" >
                            <select class="input-border pull-right" ng-model="vac.vac2">
                                <option value="" selected></option>
                                <option value="1">1. Sudah</option>
                                <option value="2">2. Belum, saya belum mendapat giliran</option>
                                <option value="3">3. belum, saya tidak mau meski sudah mendapat giliran</option>
                                <option value="4">4. belum, saya tidak memenuhi syarat kesehatan (berdasarkan penilaian atau saran petugas kesehatan) untuk divaksin</option>
                                <option value="99">99. Menolak Menjawab</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div ng-if="vac.vac2 == 1 || vac.vac2 == 2 || vac.vac2 == 3 || vac.vac2 == 99">
                    <div class="item item-text-wrap item-row" ng-if="vac.vac2 == 1">
                        <div class="row">
                            <div class="col col-50 col-center input-label"><b>VAC3</b> Apakah anda sudah menerima (atau anda berencana untuk menerima) semua dosis vaksin COVID-19 yang dibutuhkan? (2 dosis)</div>
                            <div class="col col-50 col-center" >
                                <select class="input-border pull-right" ng-model="vac.vac3">
                                    <option value="" selected></option>
                                    <option value="1">1. Ya </option>
                                    <option value="2">2. Tidak </option>
                                    <option value="98">98. Tidak Tahu </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="item item-text-wrap item-row" ng-if="vac.vac2 == 2">
                        <div class="row">
                            <div class="col col-50 col-center input-label"><b>VAC4</b> Setelah vaksin COVID-19 tersedia dan anda mendapat giliran, apakah anda bersedia divaksin? </div>
                            <div class="col col-50 col-center" >
                                <select class="input-border pull-right" ng-model="vac.vac4">
                                    <option value="" selected></option>
                                    <option value="1">1. Pasti bersedia menerima vaksin</option>
                                    <option value="2">2. Mungkin bersedia menerima vaksin</option>
                                    <option value="3">3. Mungkin tidak bersedia menerima vaksin</option>
                                    <option value="4">4. Pasti tidak bersedia menerima vaksin</option>
                                    <option value="99">99. Menolak Menjawab -> modul berikutnya</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <!-- alasan  tidak mendapatkan vaksin -->
                    <div class="padding" ng-if="vac.vac2 == 3">
                        <div class="item item-divider"><b>VAC5</b> Manakah dari berikut ini, jika ada yang menjadi alasan anda untuk tidak bersedia menerima vaksin COVID-19? Pilih semua yang berlaku</div>
                        <label class="item item-text-wrap" ng-repeat="(key,val) in alasan_tidak_mendapatkan_vaksin">
                            <span class="input-label full"> {{key}}. {{val}} </span>
                            <div class="button-bar right">
                                <ion-radio name="vac5{{key}}" ng-model="vac['vac5' + key]" value="1" >Ya</ion-radio>
                                <ion-radio name="vac5{{key}}" ng-model="vac['vac5' + key]" value="2" >Tidak</ion-radio>
                                <ion-radio name="vac5{{key}}" ng-model="vac['vac5' + key]" value="99" >Menolak menjawab</ion-radio>
                            </div>
                        </label>
                        <div class="row" ng-if="vac.vac5l == 1">
                            <div class="col col-50"><span class="">m.</span> Alasan anda tidak mendapatkan vaksin COVID-19 lainnya?</div>
                            <div class="col col-50">
                                <input type="text" ng-model="vac.vac5m" class="input-border pull-right">
                            </div>
                        </div>
                    </div>
                    <!-- jika merasa tidak membutuhkan vaksin -->
                    <div ng-if="vac.vac2 == 3 && vac.vac5c == 1">
                        <div class="item item-divider"><b>VAC6</b> Mengapa anda merasa tidak membutuhkan vaksin COVID-19? Pilih semua yang berlaku</div>
                        <label class="item item-text-wrap" ng-repeat="(key,val) in alasan_tidak_membutuhkan_vaksin">
                            <span class="input-label full">{{key}}. {{val}}</span>
                            <div class="button-bar right">
                                <ion-radio name="vac6{{key}}" ng-model="vac['vac6' + key]" value="1" >Ya</ion-radio>
                                <ion-radio name="vac6{{key}}" ng-model="vac['vac6' + key]" value="2" >Tidak</ion-radio>
                                <ion-radio name="vac6{{key}}" ng-model="vac['vac6' + key]" value="99" >Menolak menjawab</ion-radio>
                            </div>
                        </label>
                        <div class="row" ng-if="vac.vac6f == 1">
                            <div class="col col-50"><span class="">g.</span> Alasan anda tidak membutuhkan vaksin COVID-19 lainnya?</div>
                            <div class="col col-50">
                                <input type="text" ng-model="vac.vac6g" class="input-border pull-right">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="notifikasi" ng-show="curART.umur <= 24">
               Umur ART tidak memenuhi kriteria untuk menjawab pertanyaan Vaksin. Silahkan simpan data.
            </div>
            
        </ion-list>

        <!-- Button -->
        <div class="hint-status"><span>Silahkan gunakan tombol Laporan Wawancaara jika sudah ada data yang tercatat dan wawancara berhenti di tengah jalan</span></div>
        <div class="item-group">
            <button class="button simpan button-assertive" ng-click="save('individu')">
                <i class="icon ion-arrow-left-c"></i> Laporan Wawancara
            </button>
            <button ng-if="allowSave()" class="button simpan button-dark pull-right" ng-click="save()">
                <i class="icon ion-archive"></i> Simpan
            </button>
        </div>
    </ion-content>
</ion-view>
