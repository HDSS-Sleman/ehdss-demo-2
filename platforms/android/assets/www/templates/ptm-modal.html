\<ion-modal-view>
    <ion-header-bar class="bar bar-header bar-calm">
        <h1 class="title">{{titleModal}}</h1>
        <button class="button button-clear button-primary" ng-click="modal.hide()">Cancel</button>
    </ion-header-bar>
    <div class="bar bar-subheader">
        <h2 class="title left">Nama ART : <span style="text-transform:capitalize">{{nama}} ({{umur}})</span></h2>
    </div>
    <ion-content class="ptm">
        <div class="item-group">
            <div class="item item-divider">Nama ART</div>
            <div ng-show="asma">
                <ion-list ng-show="modal1">
                    <!--  PTM 15-->
                    <label class="item item-text-wrap">
                        <span class="input-label full">
                        <b>PTM15.</b> Apakah gejala sesak nafas tersebut, terjadi pada kondisi berikut</span >
                    </label>

                    <label class="item item-text-wrap item-row" ng-repeat="(prop,val) in ptm15Item">
                        <div class="row">
                            <div class="col col-50 min-left">
                                <div class="input-label ">{{prop}}. {{val}}</div>
                            </div>
                            <div class="col col-50 min-right">
                                <div class="button-bar right">
                                    <ion-radio name="ptm15{{prop}}" ng-model="ptm['ptm15' + prop][idart]" ng-value="1">Ya</ion-radio>
                                    <ion-radio name="ptm15{{prop}}" ng-model="ptm['ptm15' + prop][idart]" ng-value="2">Tidak</ion-radio>
                                    <ion-radio name="ptm15{{prop}}" ng-model="ptm['ptm15' + prop][idart]" ng-value="98">Tidak tahu</ion-radio>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="item item-input" ng-if="ptm.ptm15v[idart] == 1">
                        <span class="input-label">Lainnya</span>
                        <input type="text" ng-model="ptm.ptm15lainnya[idart]">
                    </label>
                </ion-list>

                <ion-list ng-show="modal2">
                    <!--  PTM 16 -->
                    <label class="item item-text-wrap">
                        <span class="input-label full">
                        <b>PTM16.</b> Apakah gejala sesak nafas disertai dengan kondisi dibawah ini</span>
                    </label>
                    <label class="item item-text-wrap item-row" ng-repeat="(prop,val) in ptm16Item">
                        <div class="row">
                            <div class="col col-50 min-left">
                                <div class="input-label ">{{prop}}. {{val}}</div>
                            </div>
                            <div class="col col-50 min-right">
                                <div class="button-bar right">
                                    <ion-radio name="ptm16{{prop}}" ng-model="ptm['ptm16' + prop][idart]" ng-value="1">Ya</ion-radio>
                                    <ion-radio name="ptm16{{prop}}" ng-model="ptm['ptm16' + prop][idart]" ng-value="2">Tidak</ion-radio>
                                    <ion-radio name="ptm16{{prop}}" ng-model="ptm['ptm16' + prop][idart]" ng-value="98">Tidak tahu</ion-radio>
                                </div>
                            </div>
                        </div>
                    </label>

                    <!-- PTM 17 -->
                    <div class="item item-input item-text-wrap">
                      <div class="row">
                          <div class="col col-50">
                             <b>PTM 17.</b> Umur berapa mulai merasa keluhan sesak pertama kali (dalam tahun &amp; bulan)
                          </div>
                          <div class="col col-25">
                              <input type="number" ng-model="ptm.ptm17[idart]" numbers-allowed="0-90,98" placeholder="tahun">
                          </div>
                          <div class="col col-25">
                              <input type="number" ng-model="ptm.ptm17bln[idart]" numbers-allowed="0-12,98" placeholder="bulan">
                          </div>
                      </div>
                    </div>

                    <label class="item item-text-wrap">
                      <span class="input-label">
                      <b>PTM18.</b> Apakah sesak nafas pernah kambuh dalam 12 bulan terakhir?</span>
                      <div class="button-bar right">
                        <ion-radio name="ptm18" ng-model="ptm.ptm18[idart]" ng-value="1">Ya</ion-radio>
                        <ion-radio name="ptm18" ng-model="ptm.ptm18[idart]" ng-value="2">Tidak</ion-radio>
                        <ion-radio name="ptm18" ng-model="ptm.ptm18[idart]" ng-value="98">Tidak Tahu</ion-radio>
                      </div>
                    </label>

                    <label class="item item-text-wrap" ng-if="umur >= 30">
                        <span class="input-label full">
                          <b>PTM19.</b> Apakah dalam 1 bulan terakhir mengalami gejala-gejala seperti berikut
                        </span >
                    </label>

                    <label class="item item-text-wrap item-row" ng-if="umur >= 30">
                        <div class="row">
                            <div class="col col-50 min-left">
                                <div class="input-label ">A. Batuk berdahak </div>
                            </div>
                            <div class="col col-50 min-right">
                                <div class="button-bar right">
                                    <ion-radio name="ptm19a" ng-model="ptm.ptm19a[idart]" ng-value="1">Ya</ion-radio>
                                    <ion-radio name="ptm19a" ng-model="ptm.ptm19a[idart]" ng-value="2">Tidak</ion-radio>
                                    <ion-radio name="ptm19a" ng-model="ptm.ptm19a[idart]" ng-value="98">Tidak Tahu</ion-radio>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="item item-text-wrap item-row" ng-if="umur >= 30">
                        <div class="row">
                            <div class="col col-50 min-left">
                                <div class="input-label ">B. Sesak nafas bertambah ketika beraktifitas</div>
                            </div>
                            <div class="col col-50 min-right">
                                <div class="button-bar right">
                                    <ion-radio name="ptm19b" ng-model="ptm.ptm19b[idart]" ng-value="1">Ya</ion-radio>
                                    <ion-radio name="ptm19b" ng-model="ptm.ptm19b[idart]" ng-value="2">Tidak</ion-radio>
                                    <ion-radio name="ptm19b" ng-model="ptm.ptm19b[idart]" ng-value="98">Tidak Tahu</ion-radio>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="item item-text-wrap item-row" ng-if="umur >= 30">
                        <div class="row">
                            <div class="col col-50 min-left">
                                <div class="input-label ">C. Sesak nafas bertambah dengan meningkatnya usia</div>
                            </div>
                            <div class="col col-50 min-right">
                                <div class="button-bar right">
                                    <ion-radio name="ptm19c" ng-model="ptm.ptm19c[idart]" ng-value="1">Ya</ion-radio>
                                    <ion-radio name="ptm19c" ng-model="ptm.ptm19c[idart]" ng-value="2">Tidak</ion-radio>
                                    <ion-radio name="ptm19c" ng-model="ptm.ptm19c[idart]" ng-value="98">Tidak Tahu</ion-radio>
                                </div>
                            </div>
                        </div>
                    </label>
                </ion-list>
            </div>
            <!--End of Modal ASMA-->

            <div ng-show="cedera">
                <ion-list>
                    <!--  PTM 21 -->
                    <label class="item item-input item-text-wrap">
                      <span class="input-label">
                          <b>PTM21.</b> Dalam 12 bulan terakhir berapa kali <span class="nama">{{nama}}</span> mengalami cedera (1-50) ?</span>
                      <input type="number" ng-model="ptm.ptm21[idart]" min="1" max="50" class="input-border">
                    </label>

                    <label class="item item-text-wrap">
                      <span class="input-label"><b>PTM22a.</b> Apakah dirawat?</span>
                      <div class="button-bar right">
                        <ion-radio name="ptm22a" ng-model="ptm.ptm22a[idart]" ng-value="1">Ya</ion-radio>
                        <ion-radio name="ptm22a" ng-model="ptm.ptm22a[idart]" ng-value="2">Tidak</ion-radio>
                        <ion-radio name="ptm22a" ng-model="ptm.ptm22a[idart]" ng-value="98">Tidak Tahu</ion-radio>
                      </div>
                    </label>

                    <div ng-if="ptm.ptm22a[idart]==1">
                        <label class="item item-text-wrap item-row">
                            <div class="row">
                                <div class="col"><b>PTM22b.</b> Dirawat oleh ?</div>
                            </div>
                        </label>
                        <label class="item item-text-wrap item-row">
                            <div class="row">
                                <div class="col col-50 min-left">
                                    <div class="input-label">a. Tenaga Kesehatan</div>
                                </div>
                                <div class="col col-50 min-right">
                                    <div class="button-bar right">
                                        <ion-radio name="ptm22ba" ng-model="ptm.ptm22ba[idart]" ng-value="1">Ya</ion-radio>
                                        <ion-radio name="ptm22ba" ng-model="ptm.ptm22ba[idart]" ng-value="2">Tidak</ion-radio>
                                    </div>
                                </div>
                            </div>
                        </label>

                        <div ng-if="ptm.ptm22ba[idart] == 1">
                            <label class="item item-input item-text-wrap">
                              <span class="input-label">Lama rawat jalan (0-366 hari)</span>
                              <input class="input-border" type="number" ng-model="ptm.ptm22ba1[idart]" min="0" max="366">
                            </label>

                            <label class="item item-input item-text-wrap">
                              <span class="input-label">Lama rawat inap (0-366 hari)</span>
                              <input class="input-border" type="number" ng-model="ptm.ptm22ba2[idart]" min="0" max="366">
                            </label>
                        </div>

                        <label class="item item-text-wrap item-row">
                            <div class="row">
                                <div class="col col-50 min-left">
                                    <div class="input-label">b. Pengobatan Tradisional</div>
                                </div>
                                <div class="col col-50 min-right">
                                    <div class="button-bar right">
                                        <ion-radio name="ptm22bb" ng-model="ptm.ptm22bb[idart]" ng-value="1">Ya</ion-radio>
                                        <ion-radio name="ptm22bb" ng-model="ptm.ptm22bb[idart]" ng-value="2">Tidak</ion-radio>
                                    </div>
                                </div>
                            </div>
                        </label>

                        <!-- <div ng-if="ptm.ptm22bb[idart] == 1">
                            <label class="item item-input item-text-wrap">
                            <span class="input-label">Lama rawat jalan (0-1500 hari)</span>
                            <input type="number" ng-model="ptm.ptm22bb1[idart]" min="0" max="1500">
                            </label>

                            <label class="item item-input item-text-wrap">
                            <span class="input-label">Lama rawat inap (0-1500 hari)</span>
                            <input type="number" ng-model="ptm.ptm22bb2[idart]" min="0" max="1500">
                            </label>
                        </div> -->

                        <label class="item item-text-wrap item-row">
                            <div class="row">
                                <div class="col col-50 min-left">
                                    <div class="input-label">c. Diobati Sendiri</div>
                                </div>
                                <div class="col col-50 min-right">
                                    <div class="button-bar right">
                                        <ion-radio name="ptm22bc" ng-model="ptm.ptm22bc[idart]" ng-value="1">Ya</ion-radio>
                                        <ion-radio name="ptm22bc" ng-model="ptm.ptm22bc[idart]" ng-value="2">Tidak</ion-radio>
                                    </div>
                                </div>
                            </div>
                        </label>
                    </div>
                    <!--EOF ptm22a==1-->

                    <!--  PTM23 -->
                    <label class="item item-text-wrap item-row">
                        <div class="row">
                            <div class="col"><b>PTM23.</b> Bagian tubuh yang terkena cedera</div>
                        </div>
                    </label>

                    <label class="item item-text-wrap item-row" ng-repeat="(prop,val) in ptm23Item">
                        <div class="row">
                            <div class="col col-50"><div class="input-label">{{prop}}. {{val}}</div></div>
                            <div class="col col-50">
                                <div class="button-bar right">
                                    <ion-radio name="ptm23{{prop}}" ng-model="ptm['ptm23'+prop][idart]" ng-value="1">Ya</ion-radio>
                                    <ion-radio name="ptm23{{prop}}" ng-model="ptm['ptm23'+prop][idart]" ng-value="2">Tidak</ion-radio>
                                </div>
                            </div>
                        </div>
                    </label>

                    <!--  PTM24 -->
                    <label class="item item-text-wrap item-row">
                        <div class="row">
                            <div class="col"><b>PTM24.</b> Jenis Cedera yang dialami</div>
                        </div>
                    </label>

                    <label class="item item-text-wrap item-row" ng-repeat="(prop,val) in ptm24Item">
                        <div class="row">
                            <div class="col col-50"><div class="input-label">{{prop}}. {{val}}</div></div>
                            <div class="col col-50">
                                <div class="button-bar right">
                                    <ion-radio name="ptm24{{prop}}" ng-model="ptm['ptm24' + prop][idart]" ng-value="1">Ya</ion-radio>
                                    <ion-radio name="ptm24{{prop}}" ng-model="ptm['ptm24' + prop][idart]" ng-value="2">Tidak</ion-radio>
                                </div>
                            </div>
                        </div>
                    </label>

                    <label class="item item-input item-text-wrap" ng-if="ptm.ptm24v[idart] == 1">
                        <span class="input-label">Cedera Lainnya</span>
                        <input type="text" ng-model="ptm.ptm24lainnya[idart]" class="input-border">
                    </label>

                    <!--  PTM 25 -->
                    <label class="item item-input item-text-wrap">
                      <span class="input-label"><b>PTM25.</b> Apakah cedera yang terjadi mengakibatkan kecacatan fisik yang permanen pada bagian tubuh seperti dibawah ini?</span>
                    </label>
                    <label class="item item-text-wrap item-row">
                      <div class="row">
                        <div class="col col-50 min-left">
                          <div class="input-label ">a. Panca indera tidak berfungsi (buta, tuli, bisu, dll.)</div>
                        </div>
                        <div class="col col-50 min-right">
                          <div class="button-bar right">
                            <ion-radio name="ptm25a" ng-model="ptm.ptm25a[idart]" ng-value="1">Ya</ion-radio>
                            <ion-radio name="ptm25a" ng-model="ptm.ptm25a[idart]" ng-value="2">Tidak</ion-radio>
                          </div>
                        </div>
                      </div>
                    </label>
                    <label class="item item-text-wrap item-row">
                      <div class="row">
                        <div class="col col-50 min-left">
                          <div class="input-label ">b. Kehilangan sebagian anggota badan (jari/tangan/kaki putus dll.)</div>
                        </div>
                        <div class="col col-50 min-right">
                          <div class="button-bar right">
                            <ion-radio name="ptm25b" ng-model="ptm.ptm25b[idart]" ng-value="1">Ya</ion-radio>
                            <ion-radio name="ptm25b" ng-model="ptm.ptm25b[idart]" ng-value="2">Tidak</ion-radio>
                          </div>
                        </div>
                      </div>
                    </label>
                    <label class="item item-text-wrap item-row">
                      <div class="row">
                        <div class="col col-50 min-left">
                          <div class="input-label ">c. Bekas luka permanen yang mengganggu kenyamanan</div>
                        </div>
                        <div class="col col-50 min-right">
                          <div class="button-bar right">
                            <ion-radio name="ptm25c" ng-model="ptm.ptm25c[idart]" ng-value="1">Ya</ion-radio>
                            <ion-radio name="ptm25c" ng-model="ptm.ptm25c[idart]" ng-value="2">Tidak</ion-radio>
                          </div>
                        </div>
                      </div>
                    </label>
                    <label class="item item-text-wrap item-row">
                      <div class="row">
                        <div class="col col-50 min-left">
                          <div class="input-label ">d. Kelemahan anggota badan / kehilangan fungsi gerak</div>
                        </div>
                        <div class="col col-50 min-right">
                          <div class="button-bar right">
                            <ion-radio name="ptm25d" ng-model="ptm.ptm25d[idart]" ng-value="1">Ya</ion-radio>
                            <ion-radio name="ptm25d" ng-model="ptm.ptm25d[idart]" ng-value="2">Tidak</ion-radio>
                          </div>
                        </div>
                      </div>
                    </label>

                    <!--  PTM 26 -->
                    <label class="item item-select item-text-wrap">
                      <div class="input-label"><b>PTM26.</b> Tempat terjadinya cedera</div>
                      <select ng-model="ptm.ptm26[idart]" class="input-border">
                        <option value="" selected></option>
                        <option value="1">1. Rumah &amp; lingkungannya</option>
                        <option value="2">2. Lingkungan Sekolah</option>
                        <option value="3">3. Tempat Olahraga</option>
                        <option value="4">4. Jalan Raya</option>
                        <option value="5">5. Area bisnis / jasa / perkantoran / tempat umum</option>
                        <option value="6">6. Area industry dan konstruksi</option>
                        <option value="7">7. Area pertanian</option>
                        <option value="95">95. Lainnya</option>
                      </select>
                    </label>
                    <label class="item item-input item-text-wrap" ng-if="ptm.ptm26[idart]==95">
                      <span class="input-label">Tempat Lainnya</span>
                      <input type="text" ng-model="ptm.ptm26lainnya[idart]" class="input-border">
                    </label>

                    <!--  PTM 27 -->
                    <label class="item item-select item-text-wrap">
                      <div class="input-label"><b>PTM27.</b> Penyebab cedera</div>
                      <select ng-model="ptm.ptm27[idart]" class="input-border">
                        <option value="" selected></option>
                        <option value="1">1. Kecelakaan transportasi darat sepeda motor</option>
                        <option value="2">2. Kecelakaan transportasi darat lainnya</option>
                        <option value="3">3. Jatuh (terpeleset, jatuh) dari ketinggian</option>
                        <option value="4">4. Terkena benda tajam / tumpul / mesin dll.</option>
                        <option value="5">5. Terbakar / terkena air panas / bahan kimia</option>
                        <option value="6">6. Tergigit / tersengat / diserang hewan</option>
                        <option value="7">7. Kejatuhan / terkena lemparan benda</option>
                        <option value="8">8. Keracunan</option>
                        <option value="95">95. Lainnya</option>
                      </select>
                    </label>
                    <label class="item item-input item-text-wrap" ng-if="ptm.ptm27[idart]==95">
                      <span class="input-label">Penyebab lainnya</span>
                      <input type="text" ng-model="ptm.ptm27lainnya[idart]" class="input-border">
                    </label>
                    <label class="item item-select item-text-wrap" ng-if="ptm.ptm27[idart]==1">
                      <div class="input-label"><b>PTM28.</b> Apakah pengendara menggunakan helm ?</div>
                      <select ng-model="ptm.ptm28[idart]" class="input-border">
                        <option value="" selected></option>
                        <option value="1">1. Memakai helm standar terkancing</option>
                        <option value="2">2. Memakai helm standar tidak terkancing</option>
                        <option value="3">3. Memakai helm tidak standar (helm sepeda, proyek, tentara)</option>
                        <option value="4">4. Tidak memakai helm</option>
                        <option value="98">4. Tidak tahu</option>
                      </select>
                    </label>
                    <label class="item item-select item-text-wrap">
                      <div class="input-label"><b>PTM29.</b> Penyebab cedera timbul karena kondisi</div>
                      <select ng-model="ptm.ptm29[idart]" class="input-border">
                        <option value="" selected></option>
                        <option value="1">1. Tidakan / kejadian kekerasan</option>
                        <option value="2">2. Usaha bunuh diri</option>
                        <option value="3">3. Bencana alam</option>
                        <option value="4">4. Kelalaian / ketidaksengajaan</option>
                        <option value="95">95. Lainnya</option>
                      </select>
                    </label>
                    <label class="item item-input item-text-wrap" ng-if="ptm.ptm29[idart]==95">
                      <span class="input-label">Kondisi Lainnya</span>
                      <input type="text" ng-model="ptm.ptm29lainnya[idart]" class="input-border">
                    </label>
                </ion-list>
            </div>
        </div>
        <!--End of Modal Content-->
        <!--Buttons-->
        <div class="item-group" ng-if="asma && modal1 &&
        (ptm.ptm15a && ptm.ptm15a[idart]) && (ptm.ptm15b && ptm.ptm15b[idart]) && (ptm.ptm15c && ptm.ptm15c[idart]) &&
        (ptm.ptm15d && ptm.ptm15d[idart]) && (ptm.ptm15e && ptm.ptm15e[idart]) && (ptm.ptm15f && ptm.ptm15f[idart]) &&
        (ptm.ptm15g && ptm.ptm15g[idart]) && (ptm.ptm15h && ptm.ptm15h[idart]) &&
        (ptm.ptm15v && ( (ptm.ptm15v[idart] == 1 && ptm.ptm15lainnya && ptm.ptm15lainnya[idart]) || ptm.ptm15v[idart] == 2 || ptm.ptm15v[idart] == 98 ) )
        ">
            <button class="button simpan button-calm pull-right" ng-click="nextModal2()"> Selanjutnya<i class="icon ion-arrow-right-c"></i>
            </button>
        </div>
        <div class="item-group" ng-if="modal2">
            <button ng-show="ptm.ptm15a && ptm.ptm15a[idart]" class="button simpan button-calm" ng-click="backModal1()"><i class="icon ion-arrow-left-c"></i>Sebelumnya
            </button>
            <button ng-if="checkAllowSaveModal()" class="button simpan button-calm pull-right" ng-click="saveModal()"><i class="icon ion-archive"></i> Simpan
            </button>
        </div>
        <div class="hint-status"><span>Silahkan gunakan tombol Laporan Wawancaara jika sudah ada data yang tercatat dan wawancara berhenti di tengah jalan</span></div>
        <div class="item-group">
            <div class="item-group" ng-if="cedera">
                <button class="button simpan button-assertive" ng-click="saveModal()">
                    <i class="icon ion-arrow-left-c"></i> Laporan Wawancara
                </button>
                <button ng-if="checkAllowSaveModal()" class="button simpan button-calm pull-right" ng-click="saveModal()"><i class="icon ion-archive"></i> Simpan
                </button>
            </div>
        </div>
    </ion-content>
</ion-modal-view>
