<ion-view view-title="Catatan Kunjungan dan Konfirmasi">
    <div class="bar bar-subheader bar-calm" ng-show="tab_catatan">
        <h2 class="title left">Catatan Kunjungan</h2>
    </div>
    <div class="bar bar-subheader bar-balanced" ng-show="tab_cover">
        <h2 class="title left">Konfirmasi Data</h2>
    </div>
    <ion-content id="cke" class="cover has-subheader cke">
        <form name="ctForm" novalidate>
            <ion-list ng-show="tab_catatan">
                <div class="item item-input">
                    <div class="input-label">IDRT</div>
                    <input type="number" ng-model="cke.idrt" block block-length="7" min="4001001" max="4216999" ng-disabled="true" class="input-border">
                </div>

                <div ng-show="catatanModulUtama">
                    <!-- Kunjungan 1 -->
                    <div class="item item-divider">Kunjungan 1 Modul Utama</div>
                    <ion-list>
                        <label class="item item-input">
                            <div class="input-label">Tanggal ambil data</div>
                            <input type="date" class="input-border" min="1916-01-01" max="{{tglWawancara}}" ng-model="cke.tglcke1_m1">
                        </label>
                        <label class="item item-text-wrap item-row">
                            <div class="row">
                                <div class="col col-50 col-center">
                                    <div class="input-label">Apakah berhasil wawancara? </div>
                                </div>
                                <div class="col col-50 col-center">
                                    <select class="input-border pull-right" ng-model="cke.statuscke1_m1" ng-change="status_final_cke_m1('gagal1m1')">
                                        <option value="" selected></option>
                                        <option value="1">1. Ya</option>
                                        <option value="2">2. Tidak</option>
                                    </select>
                                </div>
                            </div>
                        </label>
                        <label class="item item-text-wrap item-row" ng-if="cke.statuscke1_m1 == 2">
                            <div class="row">
                                <div class="col col-50 col-center">
                                    <div class="input-label">Alasan Gagal </div>
                                </div>
                                <div class="col col-50 col-center">
                                    <select class="input-border pull-right" ng-model="cke.agglcke1_m1" ng-change="status_final_cke_m1()">
                                        <option value="" selected></option>
                                        <option value="1">1. Migrasi (Rumah tangga migrasi)</option>
                                        <option value="2">2. Meninggal (Rumah tangga terdiri dari 1 orang ART dan meninggal)</option>
                                        <option value="3">3. Menolak (Rumah tangga menolak menjadi responden)</option>
                                        <option value="4">4. Tidak dapat ditemui (Rumah tangga tidak dapat ditemui sebanyak 1x kunjungan)</option>
                                        <option value="5">5. Tidak dapat berkomunikasi (Rumah tangga terdiri dari 1 orang ART dan tidak dapat berkomunikasi)</option>
                                        <option value="6">6. Rumah Tangga tidak ditemukan</option>
                                        <option value="7">7. Ruta gabung (Dua rumah tangga yang bergabung menjadi 1, sehingga 1 rumah tangga tercatat gagal)</option>
                                        <option value="8">8. Menolak tahun ini</option>
                                    </select>
                                </div>
                            </div>
                        </label>
                        <div class="item item-input" ng-if="cke.statuscke1_m1 == 2 && cke.agglcke1_m1 == 3">
                            <div class="input-label">Nama yang menolak</div>
                            <input type="text" ng-model="cke.agglcke1_m1a" class="input-border">
                        </div>
                        
                        <label class="item item-input item-text-wrap">
                            <div class="input-label">Keterangan<span ng-show="ctForm.ketcke1.$error.pattern" class="hint-status"> Tidak Boleh Ada Koma!</span></div>
                            <textarea placeholder="Isikan dengan kondisi atau kejadian terkait kunjungan" class="text-area pull-right input-border" name="ketcke1" ng-model="cke.ketcke1_m1" ng-pattern="/^[^,]*$/" ></textarea>
                        </label>
                    </ion-list>

                    <!-- Kunjungan 2 -->
                    <!-- Kunjungan 1 berhasil; kunjungan 1 pending; -->
                    <div ng-if="cke.statuscke1_m1 == 1 || (cke.statuscke1_m1 == 2 && cke.agglcke1_m1 == 4)">
                        <div class="item item-divider">Kunjungan 2 Modul Utama</div>
                        <ion-list>
                            <label class="item item-input">
                                <div class="input-label">Tanggal ambil data</div>
                                <input type="date" class="input-border" min="1916-01-01" max="{{tglWawancara}}" ng-model="cke.tglcke2_m1">
                            </label>
                            <label class="item item-text-wrap item-row">
                                <div class="row">
                                    <div class="col col-50 col-center">
                                        <div class="input-label">Apakah berhasil wawancara? </div>
                                    </div>
                                    <div class="col col-50 col-center">
                                        <select class="input-border pull-right" ng-model="cke.statuscke2_m1" ng-change="status_final_cke_m1('gagal2m1')">
                                            <option value="" selected></option>
                                            <option value="1">1. Ya</option>
                                            <option value="2">2. Tidak</option>
                                        </select>
                                    </div>
                                </div>
                            </label>
                            <label class="item item-text-wrap item-row" ng-if="cke.statuscke2_m1 == 2">
                                <div class="row">
                                    <div class="col col-50 col-center">
                                        <div class="input-label">Alasan Gagal </div>
                                    </div>
                                    <div class="col col-50 col-center">
                                        <select class="input-border pull-right" ng-model="cke.agglcke2_m1" ng-change="status_final_cke_m1()">
                                            <option value="" selected></option>
                                            <option value="1">1. Migrasi (Rumah tangga migrasi)</option>
                                            <option value="2">2. Meninggal (Rumah tangga terdiri dari 1 orang ART dan meninggal)</option>
                                            <option value="3">3. Menolak (Rumah tangga menolak menjadi responden)</option>
                                            <option value="4">4. Tidak dapat ditemui (Rumah tangga tidak dapat ditemui sebanyak 2x kunjungan)</option>
                                            <option value="5">5. Tidak dapat berkomunikasi (Rumah tangga terdiri dari 1 orang ART dan tidak dapat berkomunikasi)</option>
                                            <option value="6">6. Rumah Tangga tidak ditemukan</option>
                                            <option value="7">7. Ruta gabung (Dua rumah tangga yang bergabung menjadi 1, sehingga 1 rumah tangga tercatat gagal)</option>
                                            <option value="8">8. Menolak tahun ini</option>
                                        </select>
                                    </div>
                                </div>
                            </label>
                            <div class="item item-input" ng-if="cke.statuscke2_m1 == 2 && cke.agglcke2_m1 == 3">
                                <div class="input-label">Nama yang menolak</div>
                                <input type="text" ng-model="cke.agglcke2_m1a" class="input-border">
                            </div>
                            <label class="item item-input item-text-wrap">
                                <div class="input-label">Keterangan<span ng-show="ctForm.ketcke2.$error.pattern" class="hint-status"> Tidak Boleh Ada Koma!</span></div>
                                <textarea placeholder="Isikan dengan kondisi atau kejadian terkait kunjungan" class="text-area pull-right input-border" name="ketcke2" ng-model="cke.ketcke2_m1" ng-pattern="/^[^,]*$/" ></textarea>
                            </label>
                        </ion-list>
                    </div>

                    <!-- Kunjungan 3 -->
                    <!-- kunjungan 2 berhasil; kunjungan 1 pending & kunjungan 2 pending; -->
                    <div ng-if="cke.statuscke2_m1 == 1 ||
                                (cke.statuscke1_m1 == 2 && cke.agglcke1_m1 == 4 && cke.statuscke2_m1 == 2 && cke.agglcke2_m1 == 4)
                                "> <!-- Kunjungan 3 -->
                        <div class="item item-divider">Kunjungan 3 Modul Utama</div>
                        <ion-list>
                            <label class="item item-input">
                                <div class="input-label">Tanggal ambil data</div>
                                <input type="date" class="input-border" min="1916-01-01" max="{{tglWawancara}}" ng-model="cke.tglcke3_m1">
                            </label>
                            <label class="item item-text-wrap item-row">
                                <div class="row">
                                    <div class="col col-50 col-center">
                                        <div class="input-label">Apakah berhasil wawancara? </div>
                                    </div>
                                    <div class="col col-50 col-center">
                                        <select class="input-border pull-right" ng-model="cke.statuscke3_m1" ng-change="status_final_cke_m1()">
                                            <option value="" selected></option>
                                            <option value="1">1. Ya</option>
                                            <option value="2">2. Tidak</option>
                                        </select>
                                    </div>
                                </div>
                            </label>
                            <label class="item item-text-wrap item-row" ng-if="cke.statuscke3_m1 == 2">
                                <div class="row">
                                    <div class="col col-50 col-center">
                                        <div class="input-label">Alasan Gagal </div>
                                    </div>
                                    <div class="col col-50 col-center">
                                        <select class="input-border pull-right" ng-model="cke.agglcke3_m1" ng-change="status_final_cke_m1()">
                                            <option value="" selected></option>
                                            <option value="1">1. Migrasi (Rumah tangga migrasi)</option>
                                            <option value="2">2. Meninggal (Rumah tangga terdiri dari 1 orang ART dan meninggal)</option>
                                            <option value="3">3. Menolak (Rumah tangga menolak menjadi responden)</option>
                                            <option value="4">4. Tidak dapat ditemui (Rumah tangga tidak dapat ditemui sebanyak 3x kunjungan)</option>
                                            <option value="5">5. Tidak dapat berkomunikasi (Rumah tangga terdiri dari 1 orang ART dan tidak dapat berkomunikasi)</option>
                                            <option value="6">6. Rumah Tangga tidak ditemukan</option>
                                            <option value="7">7. Ruta gabung (Dua rumah tangga yang bergabung menjadi 1, sehingga 1 rumah tangga tercatat gagal)</option>
                                            <option value="8">8. Menolak tahun ini</option>
                                        </select>
                                    </div>
                                </div>
                            </label>
                            <div class="item item-input" ng-if="cke.statuscke3_m1 == 2 && cke.agglcke3_m1 == 3">
                                <div class="input-label">Nama yang menolak</div>
                                <input type="text" ng-model="cke.agglcke3_m1a" class="input-border">
                            </div>
                            <label class="item item-input item-text-wrap">
                                <div class="input-label">Keterangan<span ng-show="ctForm.ketcke3.$error.pattern" class="hint-status"> Tidak Boleh Ada Koma!</span></div>
                                <textarea placeholder="Isikan dengan kondisi atau kejadian terkait kunjungan" class="text-area pull-right input-border" name="ketcke3" ng-model="cke.ketcke3_m1" ng-pattern="/^[^,]*$/" ></textarea>
                            </label>
                        </ion-list>
                    </div>
                    <label ng-class="{'status-ikut-serta item item-text-wrap item-row': cke.statuscke_m1a != 1 || cke.statuscke_m1a != 2, 'status-ikut-serta-ikut item item-text-wrap item-row': cke.statuscke_m1a == 1, 'status-ikut-serta-skip item item-text-wrap item-row' : cke.statuscke_m1a == 2}" ng-if="cke.statuscke1_m1 == 1 || cke.statuscke2_m1 == 1 || cke.statuscke3_m1 == 1">
                        <div class="row">
                            <div class="col col-50 col-center">
                                <div class="input-label"><b>Status ikut serta siklus berikutnya</b></div>
                            </div>
                            <div class="col col-50 col-center">
                                <select class="input-border pull-right" ng-model="cke.statuscke_m1a" >
                                    <option value="" selected></option>
                                    <option value="1">1. Lanjut</option>
                                    <option value="2">2. Skip 1 tahun berikutnya</option>
                                </select>
                            </div>
                        </div>
                    </label>
                    <div class="item item-input item-text-wrap">
                        <span class="input-label">Status Final Modul Utama</span>
                        <input type="text" ng-model="cke.status_final_cke_m1" class="input-border">
                    </div>
                    <label class="item item-text-wrap item-row" ng-if="cke.status_final_cke_m1 == 'berhasil'">
                        <div class="row">
                            <div class="col col-50 col-center"> <div class="input-label">Moda wawancara </div> </div>
                            <div class="col col-50 col-center">
                                <select class="input-border pull-right" ng-model="cke.moda_m1">
                                    <option value="" selected></option>
                                    <option value="1">1. Wawancara langsung</option>
                                    <option value="2">2. Via telepon</option>
                                </select>
                            </div>
                        </div>
                    </label>
                    <label class="item item-text-wrap item-row" ng-if="cke.status_final_cke_m1 == 'berhasil' && cke.moda_m1 == 2">
                        <div class="row">
                            <div class="col col-50 col-center"><div class="input-label">Tanggal janjian wawancara</div> </div>
                            <div class="col col-50 col-center">
                                <input class="input-border pull-right" type="date" min="1916-01-01"  ng-model="cke.tglj_m1">
                            </div>
                        </div>
                    </label>
                    <label class="item item-input" ng-if="cke.status_final_cke_m1 == 'berhasil' && cke.moda_m1 == 2">
                        <div class="input-label">Jam janjian wawancara</div>
                        <input class="input-border pull-right" type="time" ng-model="cke.jamj_m1" placeholder="HH:mm" min="00:00" max="23:00">
                    </label>
                    <label class="item item-text-wrap item-row" ng-if="cke.status_final_cke_m1 == 'berhasil'">
                        <div class="row">
                            <div class="col col-33 col-center"> <div class="input-label">No.Telp/HP yang bisa dihubungi (1) </div> </div>
                            <div class="col col-33 col-center"><input class="input-border pull-right" type="text" name="kontak1_m1" ng-model="cke.kontak1_m1" ng-pattern="/^[0-9]{2,13}$/"></div>
                            <div class="col col-33 col-center">
                                <div class="button-bar right">
                                    <ion-radio name="skontak1_m1" ng-model="cke.skontak1_m1" value="1">Aktif</ion-radio>
                                    <ion-radio name="skontak1_m1" ng-model="cke.skontak1_m1" value="2">Tidak</ion-radio>
                                </div>
                            </div>
                        </div>
                        <span ng-show="ctForm.kontak1_m1.$error.pattern" class="hint-status"> Angka salah!</span>
                    </label>
                    <label class="item item-text-wrap item-row" ng-if="cke.status_final_cke_m1 == 'berhasil'">
                        <div class="row">
                            <div class="col col-33 col-center"> <div class="input-label">No.Telp/HP yang bisa dihubungi (2) </div> </div>
                            <div class="col col-33 col-center"><input class="input-border pull-right" type="text" name="kontak2_m1" ng-model="cke.kontak2_m1" ng-pattern="/^[0-9]{2,13}$/"></div>
                            <div class="col col-33 col-center">
                                <div class="button-bar right">
                                    <ion-radio name="skontak2_m1" ng-model="cke.skontak2_m1" value="1">Aktif</ion-radio>
                                    <ion-radio name="skontak2_m1" ng-model="cke.skontak2_m1" value="2">Tidak</ion-radio>
                                </div>
                            </div>
                        </div>
                        <span ng-show="ctForm.kontak2_m1.$error.pattern" class="hint-status"> Angka salah!</span>
                    </label>
                    <label class="item item-text-wrap item-row" ng-if="cke.status_final_cke_m1 == 'berhasil'">
                        <div class="row">
                            <div class="col col-33 col-center"> <div class="input-label">No.Telp/HP yang bisa dihubungi (2) </div> </div>
                            <div class="col col-33 col-center"><input class="input-border pull-right" type="text" name="kontak3_m1" ng-model="cke.kontak3_m1" ng-pattern="/^[0-9]{2,13}$/"></div>
                            <div class="col col-33 col-center">
                                <div class="button-bar right">
                                    <ion-radio name="skontak3_m1" ng-model="cke.skontak3_m1" value="1">Aktif</ion-radio>
                                    <ion-radio name="skontak3_m1" ng-model="cke.skontak3_m1" value="2">Tidak</ion-radio>
                                </div>
                            </div>
                        </div>
                        <span ng-show="ctForm.kontak3_m1.$error.pattern" class="hint-status"> Angka salah!</span>
                    </label>
                    <label class="item item-input" ng-if="cke.status_final_cke_m1 == 'berhasil'">
                        <div class="input-label">Jam ambil data</div>
                        <input class="input-border" type="time" ng-model="cke.jaminput_m1" placeholder="HH:mm" min="00:00" max="23:00">
                    </label>
                </div>

                <div ng-show="catatanModulB">
                    <!-- Kunjungan 1 -->
                    <div class="item item-divider">Kunjungan 1 Modul B</div>
                    <ion-list>
                        <label class="item item-input">
                            <div class="input-label">Tanggal ambil data</div>
                            <input type="date" class="input-border" min="1916-01-01" max="{{tglWawancara}}" ng-model="cke.tglcke1_m2">
                        </label>
                        <label class="item item-select">
                            <div class="input-label">Apakah berhasil wawancara?</div>
                            <select class="input-border" ng-model="cke.statuscke1_m2" ng-change="status_final_cke_m2()">
                                <option value="" selected></option>
                                <option value="1">1. Ya</option>
                                <option value="2">2. Tidak</option>
                            </select>
                        </label>
                        
                        <label class="item item-select" ng-if="cke.statuscke1_m2 == 2">
                            <div class="input-label">Alasan Gagal</div>
                            <select class="input-border" ng-model="cke.agglcke1_m2" ng-change="status_final_cke_m2()">
                                <option value="" selected></option>
                                <option value="1">1. Responden menolak</option>
                                <option value="2">2. Responden tidak bisa ditemui 1x</option>
                                <option value="3">3. Tidak ada ART yang memenuhi syarat</option>
                            </select>
                        </label>
                        <label class="item item-input item-text-wrap">
                            <div class="input-label">Keterangan<span ng-show="ctForm.ketcke1.$error.pattern" class="hint-status"> Tidak Boleh Ada Koma!</span></div>
                            <textarea placeholder="Isikan dengan kondisi atau kejadian terkait kunjungan" class="text-area pull-right input-border" name="ketcke1" ng-model="cke.ketcke1_m2" ng-pattern="/^[^,]*$/" ></textarea>
                        </label>
                    </ion-list>

                    <!-- Kunjungan 2 -->
                    <!-- Kunjungan 1 berhasil; kunjungan 1 pending; -->
                    <div ng-if="cke.statuscke1_m2 == 1 || cke.statuscke1_m2 == 2">
                        <div class="item item-divider">Kunjungan 2 Modul B</div>
                        <ion-list>
                            <label class="item item-input">
                                <div class="input-label">Tanggal ambil data</div>
                                <input type="date" class="input-border" min="1916-01-01" max="{{tglWawancara}}" ng-model="cke.tglcke2_m2">
                            </label>
                            <label class="item item-select">
                                <div class="input-label">Apakah berhasil wawancara?</div>
                                <select class="input-border" ng-model="cke.statuscke2_m2" ng-change="status_final_cke_m2()">
                                    <option value="" selected></option>
                                    <option value="1">1. Ya</option>
                                    <option value="2">2. Tidak</option>
                                </select>
                            </label>
                            
                            <label class="item item-select" ng-if="cke.statuscke2_m2 == 2">
                                <div class="input-label">Alasan Gagal</div>
                                <select class="input-border" ng-model="cke.agglcke2_m2" ng-change="status_final_cke_m2()">
                                    <option value="" selected></option>
                                    <option value="1">1. Responden menolak</option>
                                    <option value="2">2. Responden tidak bisa ditemui 2x</option>
                                    <option value="3">3. Tidak ada ART yang memenuhi syarat</option>
                                </select>
                            </label>
                            <label class="item item-input item-text-wrap">
                                <div class="input-label">Keterangan<span ng-show="ctForm.ketcke2.$error.pattern" class="hint-status"> Tidak Boleh Ada Koma!</span></div>
                                <textarea placeholder="Isikan dengan kondisi atau kejadian terkait kunjungan" class="text-area pull-right input-border" name="ketcke2" ng-model="cke.ketcke2_m2" ng-pattern="/^[^,]*$/" ></textarea>
                            </label>
                        </ion-list>
                    </div>

                    <!-- Kunjungan 3 -->
                    <!-- kunjungan 2 berhasil; kunjungan 1 pending & kunjungan 2 pending; -->
                    <div ng-if="cke.statuscke2_m2 == 1 ||
                                (cke.statuscke1_m2 == 2 && cke.statuscke2_m2 == 2)
                                "> <!-- Kunjungan 3 -->
                        <div class="item item-divider">Kunjungan 3 Modul B</div>
                        <ion-list>
                            <label class="item item-input">
                                <div class="input-label">Tanggal ambil data</div>
                                <input type="date" class="input-border" min="1916-01-01" max="{{tglWawancara}}" ng-model="cke.tglcke3_m2">
                            </label>
                            <label class="item item-select">
                                <div class="input-label">Apakah berhasil wawancara?</div>
                                <select class="input-border" ng-model="cke.statuscke3_m2" ng-change="status_final_cke_m2()">
                                    <option value="" selected></option>
                                    <option value="1">1. Ya</option>
                                    <option value="2">2. Tidak</option>
                                </select>
                            </label>
                            
                            <label class="item item-select" ng-if="cke.statuscke3_m2 == 2">
                                <div class="input-label">Alasan Gagal</div>
                                <select class="input-border" ng-model="cke.agglcke3_m2" ng-change="status_final_cke_m2()">
                                    <option value="" selected></option>
                                    <option value="1">1. Responden menolak</option>
                                    <option value="2">2. Responden tidak bisa ditemui 3x</option>
                                    <option value="3">3. Tidak ada ART yang memenuhi syarat</option>
                                </select>
                            </label>
                            <label class="item item-input item-text-wrap">
                                <div class="input-label">Keterangan<span ng-show="ctForm.ketcke3.$error.pattern" class="hint-status"> Tidak Boleh Ada Koma!</span></div>
                                <textarea placeholder="Isikan dengan kondisi atau kejadian terkait kunjungan" class="text-area pull-right input-border" name="ketcke3" ng-model="cke.ketcke3_m2" ng-pattern="/^[^,]*$/" ></textarea>
                            </label>
                        </ion-list>
                    </div>
                    <div class="item item-input item-text-wrap">
                        <span class="input-label">Status Final Modul B</span>
                        <input type="text" ng-model="cke.status_final_cke_m2" class="input-border">
                    </div>
                    <label class="item item-text-wrap item-row" ng-if="cke.status_final_cke_m2 == 'berhasil'">
                        <div class="row">
                            <div class="col col-50 col-center"> <div class="input-label">Moda wawancara </div> </div>
                            <div class="col col-50 col-center">
                                <select class="input-border pull-right" ng-model="cke.moda_m2">
                                    <option value="" selected></option>
                                    <option value="1">1. Wawancara langsung</option>
                                    <option value="2">2. Via telepon</option>
                                </select>
                            </div>
                        </div>
                    </label>
                    <label class="item item-text-wrap item-row" ng-if="cke.status_final_cke_m2 == 'berhasil' && cke.moda_m2 == 2">
                        <div class="row">
                            <div class="col col-50 col-center"><div class="input-label">Tanggal janjian wawancara</div> </div>
                            <div class="col col-50 col-center">
                                <input class="input-border pull-right" type="date" min="1916-01-01"  ng-model="cke.tglj_m2">
                            </div>
                        </div>
                    </label>
                    <label class="item item-input" ng-if="cke.status_final_cke_m2 == 'berhasil' && cke.moda_m2 == 2">
                        <div class="input-label">Jam janjian wawancara</div>
                        <input class="input-border pull-right" type="time" ng-model="cke.jamj_m2" placeholder="HH:mm" min="00:00" max="23:00">
                    </label>

                    <label class="item item-text-wrap item-row" ng-if="cke.status_final_cke_m2 == 'berhasil'">
                        <div class="row">
                            <div class="col col-33 col-center"> <div class="input-label">No.Telp/HP yang bisa dihubungi (1) </div> </div>
                            <div class="col col-33 col-center"><input class="input-border pull-right" type="text" name="kontak1_m2" ng-model="cke.kontak1_m2" ng-pattern="/^[0-9]{2,13}$/"></div>
                            <div class="col col-33 col-center">
                                <div class="button-bar right">
                                    <ion-radio name="skontak1_m2" ng-model="cke.skontak1_m2" value="1">Aktif</ion-radio>
                                    <ion-radio name="skontak1_m2" ng-model="cke.skontak1_m2" value="2">Tidak</ion-radio>
                                </div>
                            </div>
                        </div>
                        <span ng-show="ctForm.kontak1_m2.$error.pattern" class="hint-status"> Angka salah!</span>
                    </label>
                    <label class="item item-text-wrap item-row" ng-if="cke.status_final_cke_m2 == 'berhasil'">
                        <div class="row">
                            <div class="col col-33 col-center"> <div class="input-label">No.Telp/HP yang bisa dihubungi (2) </div> </div>
                            <div class="col col-33 col-center"><input class="input-border pull-right" type="text" name="kontak2_m2" ng-model="cke.kontak2_m2" ng-pattern="/^[0-9]{2,13}$/"></div>
                            <div class="col col-33 col-center">
                                <div class="button-bar right">
                                    <ion-radio name="skontak2_m2" ng-model="cke.skontak2_m2" value="1">Aktif</ion-radio>
                                    <ion-radio name="skontak2_m2" ng-model="cke.skontak2_m2" value="2">Tidak</ion-radio>
                                </div>
                            </div>
                        </div>
                        <span ng-show="ctForm.kontak2_m2.$error.pattern" class="hint-status"> Angka salah!</span>
                    </label>
                    <label class="item item-text-wrap item-row" ng-if="cke.status_final_cke_m2 == 'berhasil'">
                        <div class="row">
                            <div class="col col-33 col-center"> <div class="input-label">No.Telp/HP yang bisa dihubungi (2) </div> </div>
                            <div class="col col-33 col-center"><input class="input-border pull-right" type="text" name="kontak3_m2" ng-model="cke.kontak3_m2" ng-pattern="/^[0-9]{2,13}$/"></div>
                            <div class="col col-33 col-center">
                                <div class="button-bar right">
                                    <ion-radio name="skontak3_m2" ng-model="cke.skontak3_m2" value="1">Aktif</ion-radio>
                                    <ion-radio name="skontak3_m2" ng-model="cke.skontak3_m2" value="2">Tidak</ion-radio>
                                </div>
                            </div>
                        </div>
                        <span ng-show="ctForm.kontak3_m2.$error.pattern" class="hint-status"> Angka salah!</span>
                    </label>
                    <label class="item item-input" ng-if="cke.status_final_cke_m2 == 'berhasil'">
                        <div class="input-label">Jam ambil data</div>
                        <input class="input-border" type="time" ng-model="cke.jaminput_m2" placeholder="HH:mm" min="00:00" max="23:00">
                    </label>
                </div>
            </ion-list>
        </form>
        <form name="cvForm" novalidate>
            <ion-list ng-show="tab_cover">
                <div class="item item-text-wrap item-row">
                    <div class="row">
                        <div class="col col-50 col-center">
                            <div class="input-label ">No. Kluster</div>
                        </div>
                        <div class="col col-50 col-center">
                            <input type="number" ng-model="cover.kl00" block block-length="4" min="4001" max="4216" ng-disabled="true" class="input-border pull-right">
                        </div>
                    </div>
                </div>
                <label class="item item-input item-text-wrap" >
                    <div class="input-label">Kecamatan</div>
                    <input class="lowercase input-border" type="text" ng-model="cover.kl01" class="input-border">
                </label>
                <label class="item item-input item-text-wrap" >
                    <div class="input-label">Desa/Kelurahan</div>
                    <input class="lowercase input-border" type="text" ng-model="cover.kl02" class="input-border">
                </label>
                <label class="item item-input item-text-wrap" >
                    <div class="input-label">Dusun</div>
                    <input class="lowercase input-border" type="text" ng-model="cover.kl03" class="input-border">
                </label>
                <label class="item item-input item-text-wrap" >
                    <div class="input-label">RW</div>
                    <input class="lowercase input-border" type="text" ng-model="cover.kl04" class="input-border">
                </label>
                <label class="item item-input item-text-wrap" >
                    <div class="input-label">RT</div>
                    <input class="lowercase input-border" type="text" ng-model="cover.kl05" class="input-border">
                </label>
            	<label class="item item-input item-text-wrap" >
                    <div class="input-label">Alamat Rumah</div>
                    <input class="lowercase input-border" type="text" ng-model="cover.kl08" class="input-border">
            	</label>
                <div class="invalid-val" ><span>Alamat rumah diisikan jalan, gang, nomor rumah, blok, nama perumahan, komplek atau informasi lain. Kosongkan jika tidak tahu</span></div>
                <label class="item item-text-wrap item-row">
                    <div class="row">
                        <div class="col col-50 col-center">
                            <div class="input-label">Kode Pos </div>
                        </div>
                        <div class="col col-50 col-center">
                            <select class="input-border pull-right" ng-model="cover.kl08a">
                                <option value="" selected></option>
                                <option ng-repeat="(key,val) in kode_pos" value="{{key}}">{{val}}</option>
                            </select>
                        </div>
                    </div>
                </label>
                <label class="item item-text-wrap item-row">
                    <div class="row">
                        <div class="col col-50 col-center">
                            <div class="input-label">Kepala Rumah Tangga </div>
                        </div>
                        <div class="col col-50 col-center">
                            <select class="input-border pull-right" ng-model="cover.krt01_1">
                                <option value="" selected></option>
                                <option ng-repeat="(key,val) in dataART track by $index" value="{{val.art01}}">{{key+1}}. {{val.art01}}</option>
                                <option value="95">95. Nama belum terdaftar</option>
                            </select>
                        </div>
                    </div>
                </label>
            	<label class="item item-input item-text-wrap" ng-if="cover.krt01_1 == 95">
                    <div class="input-label">Nama Kepala Rumah Tangga</div>
                    <input class="lowercase input-border" type="text" ng-model="cover.krt01_2">
            	</label>
                <label class="item item-text-wrap item-row">
                    <div class="row">
                        <div class="col col-50 col-center">
                            <div class="input-label">Responden Utama </div>
                        </div>
                        <div class="col col-50 col-center">
                            <select class="input-border pull-right" ng-model="cover.krt02">
                                <option value="" selected></option>
                                <option ng-repeat="(key,val) in dataART track by $index" value="{{val.art01}}">{{key+1}}. {{val.art01}}</option>
                                <option value="95">95. Nama belum terdaftar</option>
                            </select>
                        </div>
                    </div>
                </label>
            	<label class="item item-input item-text-wrap" ng-if="cover.krt02 == 95">
                    <div class="input-label">Nama Responden Utama</div>
                    <input class="lowercase input-border" type="text" ng-model="cover.krt02_1">
            	</label>
            	<!-- <label class="item item-input item-text-wrap" >
                    <div class="input-label">No.Telp/HP <span ng-show="cvForm.krt03_1.$error.pattern" class="hint-status"> Angka salah!</span></div>
                    <input class="input-border" type="text" name="krt03_1" ng-model="cover.krt03_1" ng-pattern="/^[0-9]{2,13}$/">
            	</label>
                <div class="invalid-val" ><span>Isikan 98 jika No.Telp tidak tahu</span></div> -->
                <div class="item item-text-wrap item-row">
                    <div class="row">
                    	<div class="col col-50 col-center">
                            <div class="input-label ">Jumlah anggota rumah tangga yang tercantum dalam Kartu Keluarga (KK)</div>
                        </div>
                        <div class="col col-50 col-center">
                            <input class="col input-border pull-right" type="number" ng-model="cover.krt04" block block-legth="2">
                        </div>
                    </div>
                </div>
                <div class="item item-text-wrap item-row">
                	<div class="row">
                        <div class="col col-50 col-center">
                            <div class="input-label">Jumlah anggota rumah tangga yang tinggal dan atau berencana tinggal dalam kurun waktu 6 bulan</div>
                        </div>
                        <div class="col col-50 col-center">
                            <input class="col input-border pull-right" type="number" ng-model="cover.krt05" block block-legth="2">
                        </div>
                	</div>
                </div>
                <label class="item item-text-wrap item-row">
                    <div class="row">
                        <div class="col col-50 col-center">
                            <div class="input-label">Kode Enumerator </div>
                        </div>
                        <div class="col col-50 col-center">
                            <select class="input-border pull-right" ng-model="cover.kpd01">
                                <option value="" selected></option>
                                <option ng-repeat="(key,val) in kode_enum" value="{{key}}">{{val}}</option>
                            </select>
                        </div>
                    </div>
                </label>
                <label class="item item-text-wrap item-row">
                    <div class="row">
                        <div class="col col-50 col-center">
                            <div class="input-label">Kode Supervisor </div>
                        </div>
                        <div class="col col-50 col-center">
                            <select class="input-border pull-right" ng-model="cover.kpd04">
                                <option value="" selected></option>
                                <option ng-repeat="(key,val) in kode_spv" value="{{key}}">{{val}}</option>
                            </select>
                        </div>
                    </div>
                </label>
            </ion-list>
        </form>

        <div class="item-group" ng-if="tab_catatan && CatatanAllowSave(ctForm)">
            <!-- Modul Utama  -->
            <div ng-if="catatanModulUtama">
                <button class="button simpan button-assertive" ng-click="saveCatatan('utama','gagal',cke)">
                    <i class="icon ion-arrow-left-c"></i> Keluar
                </button>
                <!-- berhasil lanjut ke ICF -->
                <button ng-if="cke.status_final_cke_m1 == 'berhasil' && cke.jaminput_m1" class="button simpan button-calm pull-right" ng-click="saveCatatan('utama','berhasil_icf',cke)" >
                    ICF <i class="icon ion-arrow-right-c"></i>
                </button>
                <!-- gagal dengan alasan selain menolak -->
                <button ng-if="cke.status_final_cke_m1 == 'gagal'" class="button simpan button-dark pull-right" ng-click="saveCatatan('utama','gagal',cke)">
                    <i class="icon ion-archive"></i> Kunjungan gagal
                </button>
                <!-- gagal dengan alasan menolak jadi responden, tetap isi ICF -->
                <button ng-if="cke.status_final_cke_m1 == 'menolak menjadi responden'" class="button simpan button-dark pull-right" ng-click="saveCatatan('utama','gagal_icf',cke)">
                    <i class="icon ion-archive"></i> Menolak (isi ICF)
                </button>
                <button ng-if="cke.status_final_cke_m1 == 'pending'" class="button simpan button-dark pull-right" ng-click="saveCatatan('utama','pending',cke)">
                    <i class="icon ion-archive"></i> Kunjungan pending (Modul Utama)
                </button>
            </div>
            <!-- Modul B -->
            <div ng-if="catatanModulB">
                <button class="button simpan button-assertive" ng-click="saveCatatan('B','gagal',cke)">
                    <i class="icon ion-arrow-left-c"></i> Keluar
                </button>
                <button ng-if="cke.status_final_cke_m2 == 'berhasil' && cke.jaminput_m2" class="button simpan button-calm pull-right" ng-click="saveCatatan('B','berhasil',cke)" >
                    Lanjut (Modul Sub Sample)<i class="icon ion-arrow-right-c"></i>
                </button>
                <button ng-if="cke.status_final_cke_m2 == 'gagal'" class="button simpan button-dark pull-right" ng-click="saveCatatan('B','gagal',cke)">
                    <i class="icon ion-archive"></i> Gagal (Modul Sub Sample)
                </button>
                <button ng-if="cke.status_final_cke_m2 == 'pending'" class="button simpan button-dark pull-right" ng-click="saveCatatan('B','pending',cke)">
                    <i class="icon ion-archive"></i> Pending (Modul Sub Sample)
                </button>
            </div>
        </div>

        <div class="item-group" ng-if="tab_cover && CoverAllowSave(cvForm)">
            <button class="button simpan button-dark pull-right" ng-click="saveCover(true)">
                <i class="icon ion-archive"></i> Simpan
            </button>
        </div>
        
    </ion-content>
</ion-view>