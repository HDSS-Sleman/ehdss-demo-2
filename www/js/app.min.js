// angular.module is a global place for creating, registering and retrieving Angular modules
// the 1st parameter is the name of this angular module (also set in a <body> attribute in index.html)
// the 2nd parameter is an array of 'requires'
angular.module('ehdss', ['ionic','ngCordova'])

.run(['$ionicPlatform','$rootScope','$ionicLoading','$http',function($ionicPlatform,$rootScope,$ionicLoading,$http){$ionicPlatform.ready(function(){if(window.cordova&&window.cordova.plugins.Keyboard){cordova.plugins.Keyboard.hideKeyboardAccessoryBar(true);cordova.plugins.Keyboard.disableScroll(true);}
if(window.StatusBar){window.StatusBar.styleDefault();}
localforage.config({name:'ehdss-data-2020'});if(ionic.Platform.isWebView()||ionic.Platform.isCrosswalk()){$rootScope.serverUrl='http://hdss.ikm.fk.ugm.ac.id/e-hdss/server/index.php';$rootScope.serverUrlUpload='https://hdss.ikm.fk.ugm.ac.id/e-hdss/server/index.php';}else{$rootScope.serverUrl='./server/index.php';$rootScope.serverUrlUpload='./server/index.php';}
if(window.cordova&&cordova.plugins.certificates){cordova.plugins.certificates.trustUnsecureCerts(true);}});$rootScope.$on('loading:show',function(){$ionicLoading.show({template:'<ion-spinner icon="dots"></ion-spinner><p>Memuat Modul...</p>'});});$rootScope.$on('loading:hide',function(){$ionicLoading.hide();});$rootScope.$on('saving:show',function(){$ionicLoading.show({template:'<ion-spinner icon="dots"></ion-spinner><p>Menyimpan Data...</p>'});});$rootScope.$on('saving:hide',function(){$ionicLoading.hide();});}])

.config(['$stateProvider','$urlRouterProvider',function($stateProvider,$urlRouterProvider){$stateProvider.state('app',{url:'/app',abstract:true,templateUrl:'templates/menu.html',controller:'AppCtrl'}).state('app.setting',{url:'/setting',views:{'menuContent':{templateUrl:'templates/setting.html',controller:'SettingCtrl'}}}).state('app.user',{url:'/user',views:{'menuContent':{templateUrl:'templates/user-otoritas.html',controller:'UserOtoritasCtrl'}}}).state('app.home',{url:'/home',views:{'menuContent':{templateUrl:'templates/home.html',controller:'HomeCtrl'}}}).state('app.art',{cache:false,url:'/art',views:{'menuContent':{templateUrl:'templates/list_art.html',controller:'ArtCtrl'}}}).state('app.rt',{cache:false,url:'/rt',views:{'menuContent':{templateUrl:'templates/rt.html',controller:'RtCtrl'}}}).state('app.art_kart',{cache:false,url:'/art_kart',views:{'menuContent':{templateUrl:'templates/art_kart.html',controller:'ArtKartCtrl'}}}).state('app.ktlp',{cache:false,url:'/ktlp',views:{'menuContent':{templateUrl:'templates/ktlp.html',controller:'KtlpCtrl'}}}).state('app.art_cover',{cache:false,url:'/art_cover',views:{'menuContent':{templateUrl:'templates/art_cover.html',controller:'ArtCoverCtrl'}}}).state('app.icf',{cache:false,url:'/icf',views:{'menuContent':{templateUrl:'templates/icf.html',controller:'IcfCtrl'}}}).state('app.icftu',{cache:false,url:'/icftu',views:{'menuContent':{templateUrl:'templates/icftu.html',controller:'IcftuCtrl'}}}).state('app.icfti',{cache:false,url:'/icfti',views:{'menuContent':{templateUrl:'templates/icfti.html',controller:'IcftiCtrl'}}}).state('app.part',{cache:false,url:'/part',views:{'menuContent':{templateUrl:'templates/part.html',controller:'PartCtrl'}}}).state('app.artb',{url:'/artb',cache:false,views:{'menuContent':{templateUrl:'templates/artb.html',controller:'ArtbCtrl'}}}).state('app.krp',{cache:false,url:'/krp',views:{'menuContent':{templateUrl:'templates/krp.html',controller:'KrpCtrl'}}}).state('app.pm',{cache:false,url:'/pm',views:{'menuContent':{templateUrl:'templates/pm.html',controller:'PmnCtrl'}}}).state('app.ptm',{cache:false,url:'/ptm',views:{'menuContent':{templateUrl:'templates/ptm.html',controller:'PtmCtrl'}}}).state('app.pk',{cache:false,url:'/pk',views:{'menuContent':{templateUrl:'templates/pk.html',controller:'PkCtrl'}}}).state('app.ptmb',{cache:false,url:'/ptmb',views:{'menuContent':{templateUrl:'templates/ptmb.html',controller:'PtmbCtrl'}}}).state('app.dif',{cache:false,url:'/dif',views:{'menuContent':{templateUrl:'templates/dif.html',controller:'DifCtrl'}}}).state('app.ins',{cache:false,url:'/ins',views:{'menuContent':{templateUrl:'templates/ins.html',controller:'InsCtrl'}}}).state('app.hiv',{cache:false,url:'/hiv',views:{'menuContent':{templateUrl:'templates/hiv.html',controller:'HivCtrl'}}}).state('app.mb',{cache:false,url:'/mb',views:{'menuContent':{templateUrl:'templates/mb.html',controller:'MbCtrl'}}}).state('app.aks',{cache:false,url:'/aks',views:{'menuContent':{templateUrl:'templates/aks.html',controller:'AksCtrl'}}}).state('app.kai',{cache:false,url:'/kai',views:{'menuContent':{templateUrl:'templates/kai.html',controller:'KaiCtrl'}}}).state('app.ksm',{cache:false,url:'/ksm',views:{'menuContent':{templateUrl:'templates/ksm.html',controller:'KsmCtrl'}}}).state('app.prp',{cache:false,url:'/prp',views:{'menuContent':{templateUrl:'templates/prp.html',controller:'PrpCtrl'}}}).state('app.hrt',{cache:false,url:'/hrt',views:{'menuContent':{templateUrl:'templates/hrt.html',controller:'HrtCtrl'}}}).state('app.kr',{cache:false,url:'/kr',views:{'menuContent':{templateUrl:'templates/kr.html',controller:'KrCtrl'}}}).state('app.list_klh',{cache:false,url:'/klh',views:{'menuContent':{templateUrl:'templates/list_klh.html',controller:'ListKlhCtrl'}}}).state('app.klh',{cache:false,url:'/klh',views:{'menuContent':{templateUrl:'templates/klh.html',controller:'KlhCtrl'}}}).state('app.list_kmt',{cache:false,url:'/klh',views:{'menuContent':{templateUrl:'templates/list_kmt.html',controller:'ListKmtCtrl'}}}).state('app.kmt',{cache:false,url:'/kmt',views:{'menuContent':{templateUrl:'templates/kmt.html',controller:'KmtCtrl'}}}).state('app.list_kish',{cache:false,url:'/list_kish',views:{'menuContent':{templateUrl:'templates/list_kish.html',controller:'ListKishCtrl'}}}).state('app.kish',{cache:false,url:'/kish',views:{'menuContent':{templateUrl:'templates/kish.html',controller:'KishCtrl'}}}).state('app.agh',{cache:false,url:'/agh',views:{'menuContent':{templateUrl:'templates/agh.html',controller:'AghCtrl'}}}).state('app.r_art',{cache:false,url:'/r_art',views:{'menuContent':{templateUrl:'templates/r_art.html',controller:'R_artCtrl'}}}).state('app.hrn',{cache:false,url:'/hrn',views:{'menuContent':{templateUrl:'templates/hrn.html',controller:'HrnCtrl'}}}).state('app.adl',{cache:false,url:'/adl',views:{'menuContent':{templateUrl:'templates/adl.html',controller:'AdlCtrl'}}}).state('app.va',{cache:false,url:'/va',views:{'menuContent':{templateUrl:'templates/va.html',controller:'VaCtrl'}}}).state('app.ht',{cache:false,url:'/ht',views:{'menuContent':{templateUrl:'templates/ht.html',controller:'HtCtrl'}}}).state('app.art_temp',{cache:false,url:'/art_temp',views:{'menuContent':{templateUrl:'templates/art_temp.html',controller:'ArtTempCtrl'}}}).state('app.pb',{cache:false,url:'/pb',views:{'menuContent':{templateUrl:'templates/pb.html',controller:'PbCtrl'}}}).state('app.kj',{cache:false,url:'/kj',views:{'menuContent':{templateUrl:'templates/kj.html',controller:'KjCtrl'}}}).state('app.ph',{cache:false,url:'/ph',views:{'menuContent':{templateUrl:'templates/ph.html',controller:'PhCtrl'}}}).state('app.srq',{cache:false,url:'/srq',views:{'menuContent':{templateUrl:'templates/srq.html',controller:'SrqCtrl'}}}).state('app.hl',{cache:false,url:'/hl',views:{'menuContent':{templateUrl:'templates/hl.html',controller:'HlCtrl'}}}).state('app.dse',{cache:false,url:'/dse',views:{'menuContent':{templateUrl:'templates/dse.html',controller:'DseCtrl'}}}).state('app.ptmi',{cache:false,url:'/ptmi',views:{'menuContent':{templateUrl:'templates/ptmi.html',controller:'PtmiCtrl'}}});$urlRouterProvider.otherwise('/app/home');}])

// <input type="text" name="fruitName" ng-model="data.fruitName" numbers-allowed="1-20,52,96"/>
.directive('numbersAllowed',function(){return{restrict:'A',require:'ngModel',link:function(scope,elem,attr,ngModel){var rules=[],r,tmps=attr.numbersAllowed.split(',');for(var i=0;i<tmps.length;i++){r=tmps[i];if(r.indexOf('-')!==-1){r=r.split('-');for(var n=+r[0];n<=+r[1];n++){rules.push(n);}}else{rules.push(+r);}}
ngModel.$parsers.unshift(function(value){var valid=rules.indexOf(+value)!==-1;ngModel.$setValidity('rules',valid);return valid?value:undefined;});ngModel.$formatters.unshift(function(value){var valid=rules.indexOf(+value)!==-1;ngModel.$setValidity('rules',valid);return value;});}};}).directive('block',function($parse){return{scope:{blockLength:'='},link:function(scope,elm,attrs){elm.bind('keypress',function(e){if(elm[0].value.length>=scope.blockLength){e.preventDefault();return false;}});}};}).filter('startFrom',function(){return function(input,start){start=+start;if(!isNaN(start)){return input.slice(start);}}});